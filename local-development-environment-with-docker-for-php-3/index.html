<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Local Development Environment with Docker for PHP (Part 3) - Nehal Hasnayeen</title><meta name="gridsome:hash" content="56e8b415fa427feb8d8cff534415883e595c67f6"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.8"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.cb378d4.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.cb378d4.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.cb378d4.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.cb378d4.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.cb378d4.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.cb378d4.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.cb378d4.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.cb378d4.png"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/0.styles.2de9f300.css" as="style"><link rel="preload" href="/assets/js/app.7ca35862.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--blog-post-vue.f08fc299.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.d8abca37.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.ceda61a0.js"><link rel="prefetch" href="/assets/js/page--src--pages--blog-vue.4f62559f.js"><link rel="prefetch" href="/assets/js/page--src--pages--bn--eli5-vue.4e699466.js"><link rel="prefetch" href="/assets/js/page--src--pages--contacts-vue.12290d8d.js"><link rel="prefetch" href="/assets/js/page--src--pages--credits-vue.c96aa73f.js"><link rel="prefetch" href="/assets/js/page--src--pages--hire-me-vue.036683be.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.1b0bf385.js"><link rel="prefetch" href="/assets/js/page--src--pages--projects-vue.b7de8cd2.js"><link rel="prefetch" href="/assets/js/page--src--pages--reading-vue.6647c773.js"><link rel="prefetch" href="/assets/js/page--src--templates--eli5-post-vue.5d8198fa.js"><link rel="prefetch" href="/assets/js/page--src--templates--now-page-vue.ba3337c3.js"><link rel="stylesheet" href="/assets/css/0.styles.2de9f300.css">
  </head>
  <body class="bg-indigo-100 font-display overflow-x-hidden" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22bg-indigo-100%20font-display%20overflow-x-hidden%22%7D%7D">
    <div data-server-rendered="true" id="app" class="text-gray-800 flex flex-col h-screen max-w-6xl mx-auto" data-v-a12462e6><header class="lg:py-4 lg:px-16 flex justify-between items-center"><div class="overflow-hidden h-16"><a href="/" class="active"><img alt="logo" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-0'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-0)' width='300' height='300' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADn0lEQVR42u2X3UsUURjGd2ZXXS0zySKNCEsr0ezLyLSyIsxK3VlLJcoMNEj7UuyDxBS3rEQjJcpKLN3ZdTMJpIv6A7zptuu6jO66CSxdrek5u%2b/UuJjmpkH2PvDjnJ1z5px5v87MmkwsFovFYrFYLBaLxWKxWCwWi8VisViTS2Kjx0v%2b35yRDJb8hoPmVKYkyCFWK/XrZEtoluiYQ8OFIwrnZGkoLu%2bP9JYtYcdhXwMNXQGbqH/VP%2bYvhYXxacYlUkAoOcaIbHCYbCgjaZK5ge1E60w0Pzjl9mi%2bNnJZkim1pE0yGB4G4jIvv9xV8FRLXrB83Wn9np0Ng8YMsACVHPCPRd7zxaSovuibCnq/%2bYyyu78WH%2brTWvO7h9TD/drdAo/mUJwj7cUD2jW7a6wmp%2bODpWVIM22udBrrvxuUiJIBMZQ1B8BemrMGVIFEcBTYQCOIp2tibjb9zqN7jpBzD4KTdC0diECsBWXisWlPa1AOsKujfkeoXjP9tivqSL3iHC6CsQP5jz9tzH30cb7iGm2ydX8%2bh7FyzK0Vc/ffe282LNUHVoAz4ARRCVwgCbjJQZGgn67ZQQ21p4BHLAuaac0OcsxqcBtsByvBdZBD60g0lhF0OegZYHMPm9F/AeL2ON5IAWdEJK4nggQwCMTDmDQN5SPJwhFdNFVErx5kUtQ9FK1ScJ8c00IRE9F0UORjgZMMrqe1mul%2bPYtuUdRDKGvu0PVa2m/6DrDDeBgjkyPqADLAG2NwzmJQDUp9812jwkkpwJf/C2JX6VPbQZQ4HsAl0EqpKx76GLUi9beQA4Rz1gNx2DbR28VB91yktpPKpocMVMBzyhiRQQ9p7wqQH5QDFJQAjJHI2BawDTSDAkQ9TRgOXovoG5yyG/SKfnbbOz1TrLS5/gCLKF312hRpnEr9eXTAyhTNcMoSUe9LqXSEsdWGe6OpL8osjvpR1IbQekEcgm5DBri8Gei/BYVk6DNkiG8zmzpixe99oB9UgSf6GhvKHkxny6kiJIwpB0UgImDMPGsfXjj8JCoJUeedoAL0wSldSPsd6N8EN0AjaAOvwHl6a5jxsTTVJ7U0xUNPNi7NmuHiA8iujunloJ8FESCL6l8YfxZsNZRANLgA0um3pPQMz%2bRjmf/qfw7xFvjpBO8vN0YmyHCYJeDeufFJrPjfBsa%2b7IusvxUnv5TnHDduNhyephnOABaLxWKxWCwWi8VisVgsFovFYrFYrD/Sd3quS0gVhIbmAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="300" data-src="/assets/static/logo.6b65613.b0e31d1.svg" data-srcset="/assets/static/logo.6b65613.b0e31d1.svg 300w" data-sizes="(max-width: 300px) 100vw, 300px" class="h-64 -mt-24 -ml-8 g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/logo.6b65613.b0e31d1.svg" class="h-64 -mt-24 -ml-8 g-image g-image--loaded" width="300" alt="logo"></noscript></a></div><div><div class="pr-2 cursor-pointer lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div><nav class="flex items-center"><div class="hidden lg:flex items-center"><a href="/about" class="font-semibold mr-8">About</a><a href="/now" class="font-semibold mr-8">Now</a><div class="mr-8"><div id="series-menu" class="font-semibold cursor-default">More</div><div id="series-dropdown" class="absolute pt-4 -ml-16"><div class="w-2 h-2 mt-3 ml-20 bg-indigo-600 absolute top-0 arrow"></div><div class="bg-indigo-600 rounded-lg shadow py-4 flex flex-col w-48"><a href="/projects" class="font-semibold px-8 py-2 text-white hover:text-indigo-600 hover:bg-white">Projects</a><a href="/blog" class="font-semibold px-8 py-2 text-white hover:text-indigo-600 hover:bg-white">Blog</a><div class="border-t px-8 pt-4 pb-2 text-orange-400 text-sm font-semibold">Series</div><a href="/bn/eli5" class="font-semibold px-8 py-2 text-white hover:text-indigo-600 hover:bg-white">Eli5 (বাংলা)</a></div></div></div><a href="/hire-me" class="font-extrabold uppercase bg-indigo-600 text-white px-4 py-2 rounded">Hire Me</a></div><!----></nav></div></header><main class="flex-grow pt-8 mx-4 md:mx-16"><div data-v-a12462e6><div class="max-w-4xl container text-gray-800 bg-white px-4 lg:px-24 py-8 lg:py-16 rounded-lg shadow-xl" data-v-a12462e6><div class="text-center" data-v-a12462e6><span class="border-b border-indigo-600 pb-1" data-v-a12462e6>
          May 28, 2017
        </span></div><div class="text-center pb-4 pt-1" data-v-a12462e6><span data-v-a12462e6>
          2 min read
        </span></div><h1 class="text-2xl md:text-4xl text-indigo-600 pb-4 text-center" data-v-a12462e6>Local Development Environment with Docker for PHP (Part 3)</h1><div class="md:text-lg leading-relaxed blog" data-v-a12462e6><p><strong><em>Setting Multiple PHP runtime</em></strong></p>
<p>In our last post we’ve successfully setup a development environment to develop applications in Laravel, though this setup can be use to build any PHP application. Now suppose for whatever use case if we need to test our application for different PHP version than our current one, it’d be very complex and messier process to do it in our host machine with native setup. But with docker we can do this without any hassle (also it can be achieved in many other ways e.g vagrant).</p>
<section><h3 id="install-php-56"><a href="#install-php-56" aria-hidden="true"><span class="icon icon-link"></span></a>Install PHP 5.6</h3><p>We’ll install php 5.6 version. Everything will be same as the way we installed php 7 earlier. We’ll use php:5.6-fpm image from docker hub.</p><p><img src="https://cdn-images-1.medium.com/max/2478/1*pYcEGPjM8hQE_dPWKg6ksw.png" alt="Create a conatiner for php 5.6"><em>Create a conatiner for php 5.6</em></p><p>Do not select any network for the container right now, we will do it later.</p><p>We will map our sites directory to the /var/www directory in the container.</p><p><img src="https://cdn-images-1.medium.com/max/2000/1*bIvGgb8Le7fn9oaJrHZJtA.png" alt="Map project directory in Volumes tab"><em>Map project directory in Volumes tab</em></p><p>Finally in Command tabs put /var/www as value in Working Dir field</p><p><img src="https://cdn-images-1.medium.com/max/2414/1*HXzNSOw-xB_Za_L84-JzeA.png"></p><p>Now start the container by hitting start container button. Docker will pull the image from docker hub registry and then start a container by php-5.6 name.</p><p><strong>Assigning an alias</strong></p><p>Now we’ll assign a alias called php for this container so that our nginx configuration works for both php-7 and php-5.6 container. If you look in the nginx config for any application we are forwarding all request from nginx to php:9000. Assigning a alias for php-5.6 container will allow us use the same config for both php container. First stop the container and then run the below command from the command line (portainer doesn’t have an option for assigning alias yet)</p><pre class="language-text"><code class="language-text">docker network connect --alias=php php php-5.6</code></pre><p>So the above command connect a container to a network, we’re connecting php-5.6 container to php network and assigning a alias php. Now start the container from portainer. Now you can run all the php application in php 5.6 version. Now if you want to run again in php 7 runtime first stop the php-5.6 container and then start the php 7 container.</p><p><strong>Conclusion</strong></p><p>Using docker you can easily test your app for different php version above mention way. In next post we’ll see how we to run laravel asset compiling package elixir or mix to compile our frontend stuff.</p><p><a href="/local-development-environment-with-docker-for-php">Part-1</a></p><p><a href="/local-development-environment-with-docker-for-php-2">Part-2</a></p></section>
</div></div><div class="bg-white rounded-lg shadow-xl mt-16 mx-auto px-4 lg:px-24 py-8 lg:py-16 max-w-4xl" data-v-a12462e6><div data-v-a12462e6><div class="text-xl font-semibold" data-v-a12462e6>
          Comments:
        </div><div data-v-a12462e6>
          If you found any error or have any suggestion let me know in the comments.
        </div></div><script src="https://utteranc.es/client.js" repo="Hasnayeen/hasnayeen.github.io" issue-term="title" label="comments" theme="github-light" crossorigin="anonymous" async="async" data-v-a12462e6></script></div></div></main><footer class="mt-16 py-4 px-4 lg:px-16 flex flex-col lg:flex-row-reverse bg-indigo-700 lg:bg-transparent justify-between text-white lg:text-gray-800"><div><a href="/credits" class="lg:text-indigo-700 font-semibold mr-12">Credits</a><a href="/contacts" class="lg:text-indigo-700 font-semibold">Contacts</a></div><div class="text-sm lg:text-base">
      Copyright © 2019 hasnayeen.dev. All rights reserved.
    </div></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"blogPost":{"id":"3ec04a36cd57c472365f00b10b7ab396","title":"Local Development Environment with Docker for PHP (Part 3)","date":"May 28, 2017","content":"\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003ESetting Multiple PHP runtime\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EIn our last post we’ve successfully setup a development environment to develop applications in Laravel, though this setup can be use to build any PHP application. Now suppose for whatever use case if we need to test our application for different PHP version than our current one, it’d be very complex and messier process to do it in our host machine with native setup. But with docker we can do this without any hassle (also it can be achieved in many other ways e.g vagrant).\u003C\u002Fp\u003E\n\u003Csection\u003E\u003Ch3 id=\"install-php-56\"\u003E\u003Ca href=\"#install-php-56\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstall PHP 5.6\u003C\u002Fh3\u003E\u003Cp\u003EWe’ll install php 5.6 version. Everything will be same as the way we installed php 7 earlier. We’ll use php:5.6-fpm image from docker hub.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F2478\u002F1*pYcEGPjM8hQE_dPWKg6ksw.png\" alt=\"Create a conatiner for php 5.6\"\u003E\u003Cem\u003ECreate a conatiner for php 5.6\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EDo not select any network for the container right now, we will do it later.\u003C\u002Fp\u003E\u003Cp\u003EWe will map our sites directory to the \u002Fvar\u002Fwww directory in the container.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F2000\u002F1*bIvGgb8Le7fn9oaJrHZJtA.png\" alt=\"Map project directory in Volumes tab\"\u003E\u003Cem\u003EMap project directory in Volumes tab\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EFinally in Command tabs put \u002Fvar\u002Fwww as value in Working Dir field\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F2414\u002F1*HXzNSOw-xB_Za_L84-JzeA.png\"\u003E\u003C\u002Fp\u003E\u003Cp\u003ENow start the container by hitting start container button. Docker will pull the image from docker hub registry and then start a container by php-5.6 name.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EAssigning an alias\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003ENow we’ll assign a alias called php for this container so that our nginx configuration works for both php-7 and php-5.6 container. If you look in the nginx config for any application we are forwarding all request from nginx to php:9000. Assigning a alias for php-5.6 container will allow us use the same config for both php container. First stop the container and then run the below command from the command line (portainer doesn’t have an option for assigning alias yet)\u003C\u002Fp\u003E\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Edocker network connect --alias=php php php-5.6\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ESo the above command connect a container to a network, we’re connecting php-5.6 container to php network and assigning a alias php. Now start the container from portainer. Now you can run all the php application in php 5.6 version. Now if you want to run again in php 7 runtime first stop the php-5.6 container and then start the php 7 container.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EConclusion\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EUsing docker you can easily test your app for different php version above mention way. In next post we’ll see how we to run laravel asset compiling package elixir or mix to compile our frontend stuff.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"\u002Flocal-development-environment-with-docker-for-php\"\u003EPart-1\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"\u002Flocal-development-environment-with-docker-for-php-2\"\u003EPart-2\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fsection\u003E\n","timeToRead":2}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.7ca35862.js" defer></script><script src="/assets/js/page--src--templates--blog-post-vue.f08fc299.js" defer></script>
  </body>
</html>

{"hash":"56127ce9992a440c088ebef11f505a4ddfbb2bf3","data":{"eli5Post":{"id":"16acd507dc72d8a182b7a2ecc3525063","title":"বড় এপ্লিকেশনের মাইগ্রেশন ফাইল কিভাবে ম্যানেজ করব?","date":"Oct 16, 2019","content":"<p>যখন আমরা কোনও এপ্লিকেশনে লম্বা সময় ধরে কাজ করি তখন দেখা যায় আমাদের এপ্লিকেশনের ফিচার এড করতে করতে ডাটাবেসের টেবিলও অনেক বেড়ে যায়, ফলশ্রুতিতে মাইগ্রেশন ফাইলও অনেকগুলো হয় যা ম্যানেজ করা কঠিন হয়ে যায়। এজন্য আমরা আমাদের এপ্লিকেশন কে বিভিন্ন মডিউলে ভাগ করতে পারি যাতে ফিচার ভিত্তিক সমস্ত ফাইল একসাথে থাকে এবং মেইনটেইন করা সহজ হয়। এই মডিউল ভিত্তিক অর্গানাইজেশন আমরা নিজেরাই করতে পারি বা কোন প্যাকেজ (যেমন <a href=\"https://github.com/nWidart/laravel-modules\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">laravel-modules</a>) ইউজ করেও এটি করতে পারি। কিন্তু যদি মডিউল এ ভাগ করা সম্ভব না হয় তাহলেও আমরা শুধু মাইগ্রেশন ফাইলগুলিকে নিজেদের মত সাজাতে পারি। একটি পদ্ধতি হল একই ফিচারের সব টেবিলের schema  একটি মাইগ্রেশন ফাইলে রাখা। এভাবে যদি আমাদের এপ্লিকেশনে যদি এরকম দশটি ফিচার থাকে তাহলে দশটি মাইগ্রেশন ফাইলে আমরা টেবিলের schema গুলিকে সাজাতে পারি।</p>\n<pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">CreateOrderRelatedTables</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Migration</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token scope\">Schema<span class=\"token punctuation\">::</span></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'orders'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token scope\">Schema<span class=\"token punctuation\">::</span></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'order_lines'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token scope\">Schema<span class=\"token punctuation\">::</span></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'invoices'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>আর যদি আমরা প্রতিটি টেবিলের জন্য আলাদা আলাদা মাইগ্রেশন ফাইল রাখতে চাই তাহলে ফিচার ভিত্তিক ফোল্ডারে ফাইল গুলিকে সাজাতে পারি।</p>\n<pre class=\"language-text\"><code class=\"language-text\">|--- database –┐\n               |--- migrations –┐\n                                |--- orders –┐\n                                             |--- create_orders_table.php\n                                             |--- create_invoices_table.php\n                                |--- checkout –┐\n                                               |--- create_carts_table.php\n                                               |--- create_cart_items_table.php</code></pre>\n<p>উপরোক্ত ভাবে সাজানর ফলে আমরা আরও একটি সুবিধা পায় সেটা হলও ফিচার ভিত্তিক সব টেবিল কে মাইগ্রেট করানো। যেমন আমরা নীচের কমান্ড ইউজ করে শুধু orders এর সব টেবিলকে মাইগ্রেট করাতে পারি।</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">php artisan migrate --path <span class=\"token string\">'database/migrations/orders'</span></code></pre>\n","question":"When i am developing a Laravel app from so many days, my database migration files become huge. and it looks bad more then 50 files in a folder. Is there any way to organize migration files?"}},"context":{}}